
// easing
jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,a,c,b,d){return jQuery.easing[jQuery.easing.def](e,a,c,b,d)},easeInQuad:function(e,a,c,b,d){return b*(a/=d)*a+c},easeOutQuad:function(e,a,c,b,d){return-b*(a/=d)*(a-2)+c},easeInOutQuad:function(e,a,c,b,d){if((a/=d/2)<1)return b/2*a*a+c;return-b/2*(--a*(a-2)-1)+c},easeInCubic:function(e,a,c,b,d){return b*(a/=d)*a*a+c},easeOutCubic:function(e,a,c,b,d){return b*((a=a/d-1)*a*a+1)+c},easeInOutCubic:function(e,a,c,b,d){if((a/=d/2)<1)return b/
2*a*a*a+c;return b/2*((a-=2)*a*a+2)+c},easeInQuart:function(e,a,c,b,d){return b*(a/=d)*a*a*a+c},easeOutQuart:function(e,a,c,b,d){return-b*((a=a/d-1)*a*a*a-1)+c},easeInOutQuart:function(e,a,c,b,d){if((a/=d/2)<1)return b/2*a*a*a*a+c;return-b/2*((a-=2)*a*a*a-2)+c},easeInQuint:function(e,a,c,b,d){return b*(a/=d)*a*a*a*a+c},easeOutQuint:function(e,a,c,b,d){return b*((a=a/d-1)*a*a*a*a+1)+c},easeInOutQuint:function(e,a,c,b,d){if((a/=d/2)<1)return b/2*a*a*a*a*a+c;return b/2*((a-=2)*a*a*a*a+2)+c},easeInSine:function(e,
a,c,b,d){return-b*Math.cos(a/d*(Math.PI/2))+b+c},easeOutSine:function(e,a,c,b,d){return b*Math.sin(a/d*(Math.PI/2))+c},easeInOutSine:function(e,a,c,b,d){return-b/2*(Math.cos(Math.PI*a/d)-1)+c},easeInExpo:function(e,a,c,b,d){return a==0?c:b*Math.pow(2,10*(a/d-1))+c},easeOutExpo:function(e,a,c,b,d){return a==d?c+b:b*(-Math.pow(2,-10*a/d)+1)+c},easeInOutExpo:function(e,a,c,b,d){if(a==0)return c;if(a==d)return c+b;if((a/=d/2)<1)return b/2*Math.pow(2,10*(a-1))+c;return b/2*(-Math.pow(2,-10*--a)+2)+c},
easeInCirc:function(e,a,c,b,d){return-b*(Math.sqrt(1-(a/=d)*a)-1)+c},easeOutCirc:function(e,a,c,b,d){return b*Math.sqrt(1-(a=a/d-1)*a)+c},easeInOutCirc:function(e,a,c,b,d){if((a/=d/2)<1)return-b/2*(Math.sqrt(1-a*a)-1)+c;return b/2*(Math.sqrt(1-(a-=2)*a)+1)+c},easeInElastic:function(e,a,c,b,d){e=1.70158;var f=0,g=b;if(a==0)return c;if((a/=d)==1)return c+b;f||(f=d*0.3);if(g<Math.abs(b)){g=b;e=f/4}else e=f/(2*Math.PI)*Math.asin(b/g);return-(g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f))+c},easeOutElastic:function(e,
a,c,b,d){e=1.70158;var f=0,g=b;if(a==0)return c;if((a/=d)==1)return c+b;f||(f=d*0.3);if(g<Math.abs(b)){g=b;e=f/4}else e=f/(2*Math.PI)*Math.asin(b/g);return g*Math.pow(2,-10*a)*Math.sin((a*d-e)*2*Math.PI/f)+b+c},easeInOutElastic:function(e,a,c,b,d){e=1.70158;var f=0,g=b;if(a==0)return c;if((a/=d/2)==2)return c+b;f||(f=d*0.3*1.5);if(g<Math.abs(b)){g=b;e=f/4}else e=f/(2*Math.PI)*Math.asin(b/g);if(a<1)return-0.5*g*Math.pow(2,10*(a-=1))*Math.sin((a*d-e)*2*Math.PI/f)+c;return g*Math.pow(2,-10*(a-=1))*Math.sin((a*
d-e)*2*Math.PI/f)*0.5+b+c},easeInBack:function(e,a,c,b,d,f){if(f==undefined)f=1.70158;return b*(a/=d)*a*((f+1)*a-f)+c},easeOutBack:function(e,a,c,b,d,f){if(f==undefined)f=1.70158;return b*((a=a/d-1)*a*((f+1)*a+f)+1)+c},easeInOutBack:function(e,a,c,b,d,f){if(f==undefined)f=1.70158;if((a/=d/2)<1)return b/2*a*a*(((f*=1.525)+1)*a-f)+c;return b/2*((a-=2)*a*(((f*=1.525)+1)*a+f)+2)+c},easeInBounce:function(e,a,c,b,d){return b-jQuery.easing.easeOutBounce(e,d-a,0,b,d)+c},easeOutBounce:function(e,a,c,b,d){return(a/=
d)<1/2.75?b*7.5625*a*a+c:a<2/2.75?b*(7.5625*(a-=1.5/2.75)*a+0.75)+c:a<2.5/2.75?b*(7.5625*(a-=2.25/2.75)*a+0.9375)+c:b*(7.5625*(a-=2.625/2.75)*a+0.984375)+c},easeInOutBounce:function(e,a,c,b,d){if(a<d/2)return jQuery.easing.easeInBounce(e,a*2,0,b,d)*0.5+c;return jQuery.easing.easeOutBounce(e,a*2-d,0,b,d)*0.5+b*0.5+c}});


// RoyalSlider  v8.1
(function(a){function b(b,c){this.slider=a(b);this._az="";this._by="";this._cx="";var d=this;this.settings=a.extend({},a.fn.royalSlider.defaults,c);this.isSlideshowRunning=false;this._dw=false;this._ev=this.slider.find(".royalSlidesContainer");this._fu=this._ev.wrap('<div class="royalWrapper"/>').parent();this.slides=this._ev.find(".royalSlide");this._gt="<p class='royalPreloader'></p>";this._hs=false;this._ir=false;if("ontouchstart"in window){if(!this.settings.disableTranslate3d){if("WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix){this._ev.css({"-webkit-transform-origin":"0 0","-webkit-transform":"translateZ(0)"});this._ir=true}}this.hasTouch=true;this._az="touchstart.rs";this._by="touchmove.rs";this._cx="touchend.rs"}else{this.hasTouch=false;if(this.settings.dragUsingMouse){this._az="mousedown.rs";this._by="mousemove.rs";this._cx="mouseup.rs"}else{this._ev.addClass("auto-cursor")}}if(this.hasTouch){this.settings.directionNavAutoHide=false;this.settings.hideArrowOnLastSlide=true}if(a.browser.msie&&parseInt(a.browser.version,10)<=8){this._jq=true}else{this._jq=false}this.slidesArr=[];var e,f,g,h;this.slides.each(function(){f=a(this);e={};e.slide=f;if(d.settings.blockLinksOnDrag){if(!this.hasTouch){f.find("a").bind("click.rs",function(a){if(d._hs){a.preventDefault();return false}})}else{var b=f.find("a");var c;b.each(function(){c=a(this);c.data("royalhref",c.attr("href"));c.data("royaltarget",c.attr("target"));c.attr("href","#");c.bind("click",function(b){b.preventDefault();if(d._hs){return false}else{var c=a(this).data("royalhref");var e=a(this).data("royaltarget");if(!e||e.toLowerCase()==="_kp"){window.location.href=c}else{window.open(c)}}})})}}if(d.settings.nonDraggableClassEnabled){f.find(".non-draggable").bind(d._az,function(a){d._hs=false;a.stopImmediatePropagation()})}g=f.attr("data-src");if(g==undefined||g==""||g=="none"){e.preload=false}else{e.preload=true;e.preloadURL=g}if(d.settings.captionAnimationEnabled){e.caption=f.find(".royalCaption").css("display","none")}d.slidesArr.push(e)});this._lo=false;if(this.settings.removeCaptionsOpacityInIE8){if(a.browser.msie&&parseInt(a.browser.version,10)<=8){this._lo=true}}if(this.settings.autoScaleSlider){this.sliderScaleRatio=this.settings.autoScaleSliderHeight/this.settings.autoScaleSliderWidth}this.slider.css("overflow","visible");this.slideWidth=0;this.slideshowTimer="";this.mn=false;this.numSlides=this.slides.length;this.currentSlideId=this.settings.startSlideIndex;a(".royalSlidesContainer li:nth-child("+(this.currentSlideId+1)+")").addClass("current");this.lastSlideId=-1;this.isAnimating=true;this.wasSlideshowPlaying=false;this._az1=0;this._by1=0;this._cx1=false;this._dw1=[];this._ev1=[];this._fu1=false;this._gt1=false;this._hs1=0;this._ir1=0;this._jq1=0;this._kp1=0;this._lo1=0;this._mn1=0;this._az2=false;this._by2=false;if(this.settings.slideTransitionType==="fade"){if(this._ir||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix){this._cx2=true}else{this._cx2=false}this._dw2=a("<div class='fade-container'></div>").appendTo(this._fu)}if(this.settings.slideshowEnabled&&this.settings.slideshowDelay>0){if(!this.hasTouch&&this.settings.slideshowPauseOnHover){this.slider.hover(function(){d._by2=true;d._ev2(true)},function(){d._by2=false;d._fu2(true)})}this.slideshowEnabled=true}else{this.slideshowEnabled=false}this._gt2();if(this.settings.controlNavEnabled){var i;this._hs2Container="";var j;if(!d.settings.controlNavThumbs){this._hs2Container=a('<div class="royalControlNavOverflow"><div class="royalControlNavContainer"><div class="royalControlNavCenterer"></div></div></div>');i=this._hs2Container.find(".royalControlNavCenterer")}else{this.slider.addClass("with-thumbs");if(d.settings.controlNavThumbsNavigation){j=a('<div class="thumbsAndArrowsContainer"></div>');this.thumbsArrowLeft=a("<a href='#' class='thumbsArrow left'></a>");this.thumbsArrowRight=a("<a href='#' class='thumbsArrow right'></a>");j.append(this.thumbsArrowLeft);j.append(this.thumbsArrowRight);var k=parseInt(this.thumbsArrowLeft.outerWidth(),10);this._hs2Container=a('<div class="royalControlNavOverflow royalThumbs"><div class="royalControlNavThumbsContainer"></div></div>');i=this._hs2Container.find(".royalControlNavThumbsContainer")}else{this._hs2Container=a('<div class="royalControlNavOverflow royalThumbs"><div class="royalControlNavContainer"><div class="royalControlNavCenterer"></div></div></div>');i=this._hs2Container.find(".royalControlNavCenterer")}}var l=0;this.slides.each(function(b){if(d.settings.controlNavThumbs){i.append('<a href="#" class="royalThumb" style="background-image:url('+a(this).attr("data-thumb")+')">'+(b+1)+"</a>")}else{i.append('<a href="#">'+(b+1)+"</a>")}l++});this.navItems=i.children();if(j){j.append(this._hs2Container);this._fu.after(j)}else{this._fu.after(this._hs2Container)}if(d.settings.controlNavThumbs&&d.settings.controlNavThumbsNavigation){this._kp2=true;this._lo2=false;this._mn2=i;if(this._ir){this._mn2.css({"-webkit-transition-duration":this.settings.controlNavThumbsSpeed+"ms","-webkit-transition-property":"-webkit-transform","-webkit-transition-timing-function":"ease-in-out"})}this._az3=l;var m=this.navItems.eq(0);this._by3=m.outerWidth(true);this._cx3=this._by3*this._az3;this._mn2.css("width",this._cx3);this._dw3=parseInt(m.css("marginRight"),10);this._cx3-=this._dw3;this._ev3=0;this._fu3();this.thumbsArrowLeft.click(function(a){a.preventDefault();if(!d._kp2){d._gt3(d._ev3+d._hs3+d._dw3)}});this.thumbsArrowRight.click(function(a){a.preventDefault();if(!d._lo2){d._gt3(d._ev3-d._hs3-d._dw3)}})}this._ir3()}if(this.settings.directionNavEnabled){this._fu.after("<a href='#' class='arrow left'/>");this._fu.after("<a href='#' class='arrow right'/>");this.arrowLeft=this.slider.find("a.arrow.left");this.arrowRight=this.slider.find("a.arrow.right");if(this.arrowLeft.length<1||this.arrowRight.length<1){this.settings.directionNavEnabled=false}else if(this.settings.directionNavAutoHide){this.arrowLeft.hide();this.arrowRight.hide();this.slider.one("mousemove.arrowshover",function(){d.arrowLeft.fadeIn("fast");d.arrowRight.fadeIn("fast")});this.slider.hover(function(){d.arrowLeft.fadeIn("fast");d.arrowRight.fadeIn("fast")},function(){d.arrowLeft.fadeOut("fast");d.arrowRight.fadeOut("fast")})}this._jq3()}this.sliderWidth=0;this.sliderHeight=0;var n;this._kp3="onorientationchange"in window?"orientationchange.royalslider":"resize.royalslider";a(window).bind(this._kp3,function(){if(n){clearTimeout(n)}n=setTimeout(function(){d.updateSliderSize()},100)});this.updateSliderSize();this.settings.beforeLoadStart.call(this);var o=this.slidesArr[this.currentSlideId];if(this.currentSlideId!=0){if(!this._ir){this._ev.css({left:-this.currentSlideId*this.slideWidth})}else{this._ev.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"});this._ev.css({"-webkit-transform":"translate3d("+ -this.currentSlideId*this.slideWidth+"px, 0, 0)"})}}if(this.settings.welcomeScreenEnabled){function p(a){d.settings.loadingComplete.call(d);if(a&&d.settings.preloadNearbyImages){d._lo3(d.currentSlideId)}d.slider.find(".royalLoadingScreen").fadeOut(d.settings.welcomeScreenShowSpeed);setTimeout(function(){d._mn3()},d.settings.welcomeScreenShowSpeed+100)}if(o.preload){this._lo3(this.currentSlideId,function(){p(false)})}else{h=o.slide.find("img.royalImage")[0];if(h){if(this._az4(h)){p(true);a(h).css("opacity",0);a(h).animate({opacity:1},"fast")}else{a(h).css("opacity",0);a("<img />").load(function(){p(true);a(h).animate({opacity:1},"fast")}).attr("src",h.src)}}else{p(true)}}}else{if(o.preload){this._by4(o,function(){d.settings.loadingComplete.call(d);if(d.settings.preloadNearbyImages){d._lo3(d.currentSlideId)}})}else{h=o.slide.find("img.royalImage")[0];if(h){if(this._az4(h)){a(h).css("opacity",0).animate({opacity:1},"fast")}else{a(h).css("opacity",0);a("<img />").load(function(){a(h).animate({opacity:1},"fast")}).attr("src",h.src)}}this.settings.loadingComplete.call(this)}setTimeout(function(){d._mn3()},100)}}b.prototype={goTo:function(b,c,d,e,f){if(!this.isAnimating){this.isAnimating=true;var g=this;this.lastSlideId=this.currentSlideId;this.currentSlideId=b;a(".royalSlidesContainer li").removeClass("current");a(".royalSlidesContainer li:nth-child("+(b+1)+")").addClass("current");this._gt1=true;this._fu1=true;if(this.lastSlideId!=b){this._ir3(d);this._lo3(b)}this._jq3();this.settings.beforeSlideChange.call(this);if(this.slideshowEnabled&&this.slideshowTimer){this.wasSlideshowPlaying=true;this._ev2()}var h=!c?this.settings.slideTransitionSpeed:0;if(e||c||this.settings.slideTransitionType==="move"){var i;if(f>0){h=f}else{i=this.settings.slideTransitionEasing}if(!this._ir){if(parseInt(this._ev.css("left"),10)!==-this.currentSlideId*this.slideWidth){this._ev.animate({left:-this.currentSlideId*this.slideWidth},h,f>0?"easeOutSine":this.settings.slideTransitionEasing,function(){g._cx4()})}else{this._cx4()}}else{if(this._dw4()!==-this.currentSlideId*this.slideWidth){this._ev.bind("webkitTransitionEnd.rs",function(a){if(a.target==g._ev.get(0)){g._ev.unbind("webkitTransitionEnd.rs");g._cx4()}});this._ev.css({"-webkit-transition-duration":h+"ms","-webkit-transition-property":"-webkit-transform","-webkit-transition-timing-function":f>0?"ease-out":"ease-in-out","-webkit-transform":"translate3d("+ -this.currentSlideId*this.slideWidth+"px, 0, 0)"})}else{this._cx4()}}}else{var j=this.slidesArr[this.lastSlideId].slide;var k=j.clone().appendTo(this._dw2);if(!this._cx2){this._ev.css({left:-this.currentSlideId*this.slideWidth});k.animate({opacity:0},h,this.settings.slideTransitionEasing,function(){k.remove();g._cx4()})}else{if(!this._ir){this._ev.css({left:-this.currentSlideId*this.slideWidth})}else{this._ev.css({"-webkit-transition-duration":"0","-webkit-transform":"translate3d("+ -this.currentSlideId*this.slideWidth+"px, 0, 0)",opacity:"1"})}setTimeout(function(){k.bind("webkitTransitionEnd.rs",function(a){if(a.target==k.get(0)){k.unbind("webkitTransitionEnd.rs");k.remove();g._cx4()}});k.css({"-webkit-transition-duration":h+"ms","-webkit-transition-property":"opacity","-webkit-transition-timing-function":"ease-in-out"});k.css("opacity",0)},100)}}}},goToSilent:function(a){this.goTo(a,true)},prev:function(){if(this.currentSlideId<=0){this.goTo(this.numSlides-1)}else{this._ev4()}},next:function(){if(this.currentSlideId>=this.numSlides-1){this.goTo(0)}else{this._fu4()}},updateSliderSize:function(){var a=this;var b;var c;if(this.settings.autoScaleSlider){b=this.slider.width();if(b!=this.sliderWidth){this.slider.css("height",b*this.sliderScaleRatio)}}b=this.slider.width();c=this.slider.height();if(b!=this.sliderWidth||c!=this.sliderHeight){this.sliderWidth=b;this.sliderHeight=c;this.slideWidth=this.sliderWidth+this.settings.slideSpacing;var d=this.slidesArr.length;var e,f;for(var g=0,h=d;g<h;++g){e=this.slidesArr[g];f=e.slide.find("img.royalImage").eq(0);if(f&&e.preload==false){this._ir4(f,this.sliderWidth,this.sliderHeight)}if(this.settings.slideSpacing>0&&g<d-1){e.slide.css("cssText","margin-right:"+this.settings.slideSpacing+"px !important;")}e.slide.css({height:a.sliderHeight,width:a.sliderWidth})}if(!this._ir){this._ev.css({left:-this.currentSlideId*this.slideWidth,width:this.slideWidth*this.numSlides})}else{if(!this._gt1){this._ev.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"});this._ev.css({"-webkit-transform":"translate3d("+ -this.currentSlideId*this.slideWidth+"px, 0, 0)",width:this.slideWidth*this.numSlides})}}if(this.settings.controlNavThumbs&&this.settings.controlNavThumbsNavigation){this._fu3()}}},stopSlideshow:function(){this._ev2();this.slideshowEnabled=false;this.wasSlideshowPlaying=false},resumeSlideshow:function(){this.slideshowEnabled=true;if(!this.wasSlideshowPlaying){this._fu2()}},destroy:function(){this._ev2();this._ev.unbind(this._az);a(document).unbind(this._by).unbind(this._cx);a(window).unbind(this._kp3);if(this.settings.keyboardNavEnabled){a(document).unbind("keydown.rs")}this.slider.remove();delete this.slider},_lo3:function(a,b){if(this.settings.preloadNearbyImages){var c=this;this._by4(this.slidesArr[a],function(){if(b){b.call()}c._by4(c.slidesArr[a+1],function(){c._by4(c.slidesArr[a-1])})})}else{this._by4(this.slidesArr[a],b)}},_ir3:function(a){if(this.settings.controlNavEnabled){this.navItems.eq(this.lastSlideId).removeClass("current");this.navItems.eq(this.currentSlideId).addClass("current");if(this.settings.controlNavThumbs&&this.settings.controlNavThumbsNavigation){var b=this.navItems.eq(this.currentSlideId).position().left;var c=b-Math.abs(this._ev3);if(c>this._hs3-this._by3*2-1-this._dw3){if(!a){this._gt3(-b+this._by3)}else{this._gt3(-b-this._by3*2+this._hs3+this._dw3)}}else if(c<this._by3*2-1){if(!a){this._gt3(-b-this._by3*2+this._hs3+this._dw3)}else{this._gt3(-b+this._by3)}}}}},_jq3:function(){if(this.settings.directionNavEnabled){if(this.settings.hideArrowOnLastSlide){if(this.currentSlideId==0){this._lo4=true;this.arrowLeft.addClass("disabled");if(this._mn4){this._mn4=false;this.arrowRight.removeClass("disabled")}}else if(this.currentSlideId==this.numSlides-1){this._mn4=true;this.arrowRight.addClass("disabled");if(this._lo4){this._lo4=false;this.arrowLeft.removeClass("disabled")}}else{if(this._lo4){this._lo4=false;this.arrowLeft.removeClass("disabled")}else if(this._mn4){this._mn4=false;this.arrowRight.removeClass("disabled")}}}}},_fu2:function(a){if(this.slideshowEnabled){var b=this;if(!this.slideshowTimer){this.slideshowTimer=setInterval(function(){b.next()},this.settings.slideshowDelay)}}},_ev2:function(a){if(this.slideshowTimer){clearInterval(this.slideshowTimer);this.slideshowTimer=""}},_by4:function(b,c){if(b){if(b.preload){var d=this;var e=new Image;var f=a(e);f.css("opacity",0);f.addClass("royalImage");b.slide.prepend(f);b.slide.prepend(this._gt);b.preload=false;f.load(function(){d._ir4(f,d.sliderWidth,d.sliderHeight);f.animate({opacity:1},300,function(){b.slide.find(".royalPreloader").remove()});if(c){c.call()}}).attr("src",b.preloadURL)}else{if(c){c.call()}}}else{if(c){c.call()}}},_fu3:function(){this._hs3=parseInt(this._hs2Container.width(),10);this._az5=-(this._cx3-this._hs3);if(this._hs3>=this._cx3){this._lo2=true;this._kp2=true;this.thumbsArrowRight.addClass("disabled");this.thumbsArrowLeft.addClass("disabled");this._cx1=true;this._by5(0)}else{this._cx1=false;var a=this.navItems.eq(this.currentSlideId).position().left;this._gt3(-a+this._by3)}},_gt3:function(a){if(!this._cx1&&a!=this._ev3){if(a<=this._az5){a=this._az5;this._kp2=false;this._lo2=true;this.thumbsArrowRight.addClass("disabled");this.thumbsArrowLeft.removeClass("disabled")}else if(a>=0){a=0;this._kp2=true;this._lo2=false;this.thumbsArrowLeft.addClass("disabled");this.thumbsArrowRight.removeClass("disabled")}else{if(this._kp2){this._kp2=false;this.thumbsArrowLeft.removeClass("disabled")}if(this._lo2){this._lo2=false;this.thumbsArrowRight.removeClass("disabled")}}this._by5(a);this._ev3=a}},_by5:function(a){if(!this._ir){this._mn2.animate({left:a},this.settings.controlNavThumbsSpeed,this.settings.controlNavThumbsEasing)}else{this._mn2.css({"-webkit-transform":"translate3d("+a+"px, 0, 0)"})}},_mn3:function(){var b=this;this.slider.find(".royalLoadingScreen").remove();if(this.settings.controlNavEnabled){this.navItems.bind("click",function(a){a.preventDefault();if(!b._fu1){b._cx5(a)}})}if(this.settings.directionNavEnabled){this.arrowRight.click(function(a){a.preventDefault();if(!b._mn4&&!b._fu1){b.next()}});this.arrowLeft.click(function(a){a.preventDefault();if(!b._lo4&&!b._fu1){b.prev()}})}if(this.settings.keyboardNavEnabled){a(document).bind("keydown.rs",function(a){if(!b._fu1){if(a.keyCode===37){b.prev()}else if(a.keyCode===39){b.next()}}})}this.wasSlideshowPlaying=true;this._cx4();this._ev.bind(this._az,function(a){if(!b._gt1){b._dw5(a)}else if(!b.hasTouch){a.preventDefault()}});if(this.slideshowEnabled&&!this.settings.slideshowAutoStart){this._ev2()}this.settings.allComplete.call(this)},_gt2:function(){this._ev.removeClass("grabbing-cursor");this._ev.addClass("grab-cursor")},_ev5:function(){this._ev.removeClass("grab-cursor");this._ev.addClass("grabbing-cursor")},_fu4:function(a,b){if(this.currentSlideId<this.numSlides-1){this.goTo(this.currentSlideId+1,false,false,a,b)}else{this.goTo(this.currentSlideId,false,false,a,b)}},_ev4:function(a,b){if(this.currentSlideId>0){this.goTo(this.currentSlideId-1,false,false,a,b)}else{this.goTo(this.currentSlideId,false,false,a,b)}},_cx5:function(b){this.goTo(a(b.currentTarget).index(),false,true)},_dw4:function(){var a=window.getComputedStyle(this._ev.get(0),null).getPropertyValue("-webkit-transform");var b=a.replace(/^matrix\(/i,"").split(/, |\)$/g);return parseInt(b[4],10)},_dw5:function(b){if(!this._az2){var c;if(this.hasTouch){this._fu5=false;var d=b.originalEvent.touches;if(d&&d.length>0){c=d[0]}else{return false}}else{c=b;b.preventDefault()}if(this.slideshowEnabled){if(this.slideshowTimer){this.wasSlideshowPlaying=true;this._ev2()}else{this.wasSlideshowPlaying=false}}this._ev5();this._az2=true;var e=this;if(this._ir){e._ev.css({"-webkit-transition-duration":"0","-webkit-transition-property":"none"})}a(document).bind(this._by,function(a){e._gt5(a)});a(document).bind(this._cx,function(a){e._hs5(a)});if(!this._ir){this._mn1=this._jq1=parseInt(this._ev.css("left"),10)}else{this._mn1=this._jq1=this._dw4()}this._hs=false;this._ir1=this._jq1;this._hs1=b.timeStamp||(new Date).getTime();this._kp1=c.clientX;this._lo1=c.clientY}return false},_gt5:function(a){var b;if(this.hasTouch){if(this._fu5){return false}var c=a.originalEvent.touches;if(c.length>1){return false}b=c[0];if(Math.abs(b.clientY-this._lo1)>Math.abs(b.clientX-this._kp1)+3){if(this.settings.lockAxis){this._fu5=true}return false}a.preventDefault()}else{b=a;a.preventDefault()}this._by1=this._az1;var d=b.clientX-this._kp1;if(this._by1!=d){this._az1=d}if(d!=0){if(this.currentSlideId==0){if(d>0){d=Math.sqrt(d)*5}}else if(this.currentSlideId==this.numSlides-1){if(d<0){d=-Math.sqrt(-d)*5}}if(!this._ir){this._ev.css("left",this._jq1+d)}else{this._ev.css({"-webkit-transform":"translate3d("+(this._jq1+d)+"px, 0, 0)"})}}var e=a.timeStamp||(new Date).getTime();if(e-this._hs1>350){this._hs1=e;this._ir1=this._jq1+d}return false},_hs5:function(b){if(this._az2){var c=this;this._az2=false;this._gt2();if(!this._ir){this.endPos=parseInt(this._ev.css("left"),10)}else{this.endPos=this._dw4()}this.isdrag=false;a(document).unbind(this._by).unbind(this._cx);if(this.slideshowEnabled){if(this.wasSlideshowPlaying){if(!this._by2){this._fu2()}this.wasSlideshowPlaying=false}}if(this.endPos==this._mn1){this._hs=false;return}else{this._hs=true}var d=this._ir1-this.endPos;var e=Math.max(40,(b.timeStamp||(new Date).getTime())-this._hs1);var f=Math.abs(d)/e;var g=this.slideWidth-Math.abs(this._mn1-this.endPos);var h=Math.max(g*1.08/f,200);h=Math.min(h,600);function i(){g=Math.abs(c._mn1-c.endPos);h=Math.max(g*1.08/f,200);h=Math.min(h,500);c.goTo(c.currentSlideId,false,false,true,h)}if(this._mn1-this.settings.minSlideOffset>this.endPos){if(this._by1<this._az1){i();return false}this._fu4(true,h)}else if(this._mn1+this.settings.minSlideOffset<this.endPos){if(this._by1>this._az1){i();return false}this._ev4(true,h)}else{i()}}return false},_cx4:function(){var a=this;if(this.slideshowEnabled){if(this.wasSlideshowPlaying){if(!this._by2){this._fu2()}this.wasSlideshowPlaying=false}}this._fu1=false;this._gt1=false;if(this.settings.captionAnimationEnabled&&this.lastSlideId!=this.currentSlideId){if(this.lastSlideId!=-1){this.slidesArr[this.lastSlideId].caption.css("display","none")}a._ir5(a.currentSlideId)}this.isAnimating=false;this.settings.afterSlideChange.call(this)},_ir5:function(b){var c=this.slidesArr[b].caption;if(c&&c.length>0){c.css("display","block");var d=this;var e,f,g,h,i,j,k,l,m,n,o,p,q;var r=c.children();if(this._dw1.length>0){for(var s=this._dw1.length-1;s>-1;s--){clearTimeout(this._dw1.splice(s,1))}}if(this._ev1.length>0){var t;for(var u=this._ev1.length-1;u>-1;u--){t=this._ev1[u];if(t){if(!this._ir){if(t.running){t.captionItem.stop(true,true)}else{t.captionItem.css(t.css)}}}this._ev1.splice(u,1)}}for(var v=0;v<r.length;v++){e=a(r[v]);i={};f=false;g=false;j="";if(e.attr("data-show-effect")==undefined){k=this.settings.captionShowEffects}else{k=e.attr("data-show-effect").split(" ")}for(var w=0;w<k.length;w++){if(f&&g){break}h=k[w].toLowerCase();if(!f&&h=="fade"){f=true;i["opacity"]=1}else if(g){break}else if(h=="movetop"){j="margin-top"}else if(h=="moveleft"){j="margin-left"}else if(h=="movebottom"){j="margin-bottom"}else if(h=="moveright"){j="margin-right"}if(j!=""){i["moveProp"]=j;if(!d._ir){i["moveStartPos"]=parseInt(e.css(j),10)}else{i["moveStartPos"]=0}g=true}}m=parseInt(e.attr("data-move-offset"),10);if(isNaN(m)){m=this.settings.captionMoveOffset}n=parseInt(e.attr("data-delay"),10);if(isNaN(n)){n=d.settings.captionShowDelay*v}o=parseInt(e.attr("data-speed"),10);if(isNaN(o)){o=d.settings.captionShowSpeed}p=e.attr("data-easing");if(!p){p=d.settings.captionShowEasing}l={};if(g){q=i.moveProp;if(q=="margin-right"){q="margin-left";l[q]=i.moveStartPos+m}else if(q=="margin-bottom"){q="margin-top";l[q]=i.moveStartPos+m}else{l[q]=i.moveStartPos-m}}if(!d._lo&&f){e.css("opacity",0)}if(!d._ir){e.css("visibility","hidden");e.css(l);if(g){l[q]=i.moveStartPos}if(!d._lo&&f){l.opacity=1}}else{var x={};if(g){x["-webkit-transition-duration"]="0";x["-webkit-transition-property"]="none";x["-webkit-transform"]="translate3d("+(isNaN(l["margin-left"])?0:l["margin-left"]+"px")+", "+(isNaN(l["margin-top"])?0:l["margin-top"]+"px")+",0)";delete l["margin-left"];delete l["margin-top"];l["-webkit-transform"]="translate3d(0,0,0)"}l.visibility="visible";l.opacity=1;if(!d._lo&&f){x["opacity"]=0}x["visibility"]="hidden";e.css(x)}this._ev1.push({captionItem:e,css:l,running:false});this._dw1.push(setTimeout(function(a,b,c,e,f,g,h){return function(){d._ev1[f].running=true;if(!d._ir){a.css("visibility","visible").animate(b,c,e,function(){if(d._jq&&g){a.get(0).style.removeAttribute("filter")}delete d._ev1[f]})}else{a.css({"-webkit-transition-duration":c+"ms","-webkit-transition-property":"opacity"+(h?", -webkit-transform":""),"-webkit-transition-timing-function":"ease-out"});a.css(b)}}}(e,l,o,p,v,f,g),n))}}},_ir4:function(b,c,d){var e=this.settings.imageScaleMode;var f=this.settings.imageAlignCenter;if(f||e=="fill"||e=="fit"){var g=false;function h(){var a,g,h,k,l;var m=new Image;m.onload=function(){var m=this.width;var n=this.height;var o=parseInt(b.css("borderWidth"),10);o=isNaN(o)?0:o;if(e=="fill"||e=="fit"){a=c/m;g=d/n;if(e=="fill"){h=a>g?a:g}else if(e=="fit"){h=a<g?a:g}else{h=1}k=parseInt(m*h,10)-o;l=parseInt(n*h,10)-o;b.attr({width:k,height:l}).css({width:k,height:l})}else{k=m-o;l=n-o;b.attr("width",k).attr("height",l)}if(f){b.css({"margin-left":Math.floor((c-k)/2),"margin-top":Math.floor((d-l)/2)})}};m.src=b.attr("src")}b.removeAttr("height").removeAttr("width");if(!this._az4(b.get(0))){a("<img />").load(function(){h()}).attr("src",b.attr("src"))}else{h()}}},_az4:function(a){if(a){if(!a.complete){return false}if(typeof a.naturalWidth!="undefined"&&a.naturalWidth==0){return false}}else{return false}return true}};a.fn.royalSlider=function(c){return this.each(function(){var d=new b(a(this),c);a(this).data("royalSlider",d)})};a.fn.royalSlider.defaults={lockAxis:true,preloadNearbyImages:true,imageScaleMode:"none",imageAlignCenter:false,keyboardNavEnabled:false,directionNavEnabled:true,directionNavAutoHide:false,hideArrowOnLastSlide:true,slideTransitionType:"move",slideTransitionSpeed:400,slideTransitionEasing:"easeInOutSine",captionAnimationEnabled:true,captionShowEffects:["fade","moveleft"],captionMoveOffset:20,captionShowSpeed:400,captionShowEasing:"easeOutCubic",captionShowDelay:200,controlNavEnabled:true,controlNavThumbs:false,controlNavThumbsNavigation:true,controlNavThumbsSpeed:400,controlNavThumbsEasing:"easeInOutSine",slideshowEnabled:false,slideshowDelay:5e3,slideshowPauseOnHover:true,slideshowAutoStart:true,welcomeScreenEnabled:false,welcomeScreenShowSpeed:500,minSlideOffset:20,disableTranslate3d:false,removeCaptionsOpacityInIE8:false,startSlideIndex:0,slideSpacing:0,blockLinksOnDrag:true,nonDraggableClassEnabled:true,dragUsingMouse:true,autoScaleSlider:false,autoScaleSliderWidth:960,autoScaleSliderHeight:400,beforeSlideChange:function(){},afterSlideChange:function(){},beforeLoadStart:function(){},loadingComplete:function(){},allComplete:function(){}};a.fn.royalSlider.settings={}})(jQuery);

//Map
if(window.google&&window.google.maps){var GMaps=function(a){"use strict";var b=document;var c=function(c,d){var e;if("jQuery"in a&&d){e=$("#"+c.replace("#",""),d)[0]}else{e=b.getElementById(c.replace("#",""))}return e};var d=function(a){var e=this;window.context_menu={};if(typeof a.div=="string"){this.div=c(a.div,a.context)}else{this.div=a.div}this.div.style.width=a.width||this.div.scrollWidth||this.div.offsetWidth;this.div.style.height=a.height||this.div.scrollHeight||this.div.offsetHeight;this.controls=[];this.overlays=[];this.layers=[];this.singleLayers={};this.markers=[];this.polylines=[];this.routes=[];this.polygons=[];this.infoWindow=null;this.overlay_div=null;this.zoom=a.zoom||15;var f;if(a.mapType){f=google.maps.MapTypeId[a.mapType.toUpperCase()]}else{f=google.maps.MapTypeId.ROADMAP}var g=new google.maps.LatLng(a.lat,a.lng);delete a.div;delete a.lat;delete a.lng;delete a.mapType;delete a.width;delete a.height;var h=a.zoomControlOpt||{style:"DEFAULT",position:"TOP_LEFT"};var i=a.zoomControl||true,j=h.style||"DEFAULT",k=h.position||"TOP_LEFT",l=a.panControl||true,m=a.mapTypeControl||true,n=a.scaleControl||true,o=a.streetViewControl||true,p=p||true;var q={zoom:this.zoom,center:g,mapTypeId:f,panControl:l,zoomControl:i,zoomControlOptions:{style:google.maps.ZoomControlStyle[j],position:google.maps.ControlPosition[k]},mapTypeControl:m,scaleControl:n,streetViewControl:o,overviewMapControl:p};var r=extend_object(q,a);this.map=new google.maps.Map(this.div,r);var s=function(a,b){var d="";var f=window.context_menu[a];for(var g in f){if(f.hasOwnProperty(g)){var h=f[g];d+='<li><a id="'+a+"_"+g+'" href="#">'+h.title+"</a></li>"}}if(!c("gmaps_context_menu"))return;var i=c("gmaps_context_menu");i.innerHTML=d;var j=i.getElementsByTagName("a");var k=j.length;for(var g=0;g<k;g++){var l=j[g];var m=function(c){c.preventDefault();f[this.id.replace(a+"_","")].action.call(e,b);e.hideContextMenu()};google.maps.event.clearListeners(l,"click");google.maps.event.addDomListenerOnce(l,"click",m,false)}var n=e.div.offsetLeft+b.pixel.x-15;var o=e.div.offsetTop+b.pixel.y-15;i.style.left=n+"px";i.style.top=o+"px";i.style.display="block"};var t=function(a,b){if(a==="marker"){b.pixel={};var c=new google.maps.OverlayView;c.setMap(e.map);c.draw=function(){var d=c.getProjection();var e=b.marker.getPosition();b.pixel=d.fromLatLngToContainerPixel(e);s(a,b)}}else{s(a,b)}};this.setContextMenu=function(a){window.context_menu[a.control]={};for(var d in a.options){if(a.options.hasOwnProperty(d)){var e=a.options[d];window.context_menu[a.control][e.name]={title:e.title,action:e.action}}}var f=b.createElement("ul");f.id="gmaps_context_menu";f.style.display="none";f.style.position="absolute";f.style.minWidth="100px";f.style.background="white";f.style.listStyle="none";f.style.padding="8px";f.style.boxShadow="2px 2px 6px #ccc";b.body.appendChild(f);var g=c("gmaps_context_menu");google.maps.event.addDomListener(g,"mouseout",function(a){if(!a.relatedTarget||!this.contains(a.relatedTarget)){window.setTimeout(function(){g.style.display="none"},400)}},false)};this.hideContextMenu=function(){var a=c("gmaps_context_menu");if(a)a.style.display="none"};var u=["bounds_changed","center_changed","click","dblclick","drag","dragend","dragstart","idle","maptypeid_changed","projection_changed","resize","tilesloaded","zoom_changed"];var v=["mousemove","mouseout","mouseover"];for(var w=0;w<u.length;w++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(b==undefined)b=this;if(a[c])a[c].apply(this,[b]);e.hideContextMenu()})})(this.map,u[w])}for(var w=0;w<v.length;w++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(b==undefined)b=this;if(a[c])a[c].apply(this,[b])})})(this.map,v[w])}google.maps.event.addListener(this.map,"rightclick",function(b){if(a.rightclick){a.rightclick.apply(this,[b])}t("map",b)});this.refresh=function(){google.maps.event.trigger(this.map,"resize")};this.fitZoom=function(){var a=[];var b=this.markers.length;for(var c=0;c<b;c++){a.push(this.markers[c].getPosition())}this.fitBounds(a)};this.fitBounds=function(a){var b=a.length;var c=new google.maps.LatLngBounds;for(var d=0;d<b;d++){c.extend(a[d])}this.map.fitBounds(c)};this.setCenter=function(a,b,c){this.map.panTo(new google.maps.LatLng(a,b));if(c){c()}};this.getDiv=function(){return this.div};this.zoomIn=function(a){this.zoom=this.map.getZoom()+a;this.map.setZoom(this.zoom)};this.zoomOut=function(a){this.zoom=this.map.getZoom()-a;this.map.setZoom(this.zoom)};var x=[];for(var y in this.map){if(typeof this.map[y]=="function"&&!this[y]){x.push(y)}}for(var z=0;z<x.length;z++){(function(a,b,c){a[c]=function(){return b[c].apply(b,arguments)}})(this,this.map,x[z])}this.createControl=function(a){var c=b.createElement("div");c.style.cursor="pointer";c.style.fontFamily="Arial, sans-serif";c.style.fontSize="13px";c.style.boxShadow="rgba(0, 0, 0, 0.398438) 0px 2px 4px";for(var d in a.style){c.style[d]=a.style[d]}c.textContent=a.text;for(var e in a.events){(function(b,c){google.maps.event.addDomListener(b,c,function(){a.events[c].apply(this,[this])})})(c,e)}c.index=1;return c};this.addControl=function(a){var b=google.maps.ControlPosition[a.position.toUpperCase()];delete a.position;var c=this.createControl(a);this.controls.push(c);this.map.controls[b].push(c);return c};this.createMarker=function(a){if(a.lat&&a.lng||a.position){var b=this;var c=a.details;var d=a.fences;var e=a.outside;var f={position:new google.maps.LatLng(a.lat,a.lng),map:null};delete a.lat;delete a.lng;delete a.fences;delete a.outside;var g=extend_object(f,a);var h=new google.maps.Marker(g);h.fences=d;if(a.infoWindow){h.infoWindow=new google.maps.InfoWindow(a.infoWindow);var i=["closeclick","content_changed","domready","position_changed","zindex_changed"];for(var j=0;j<i.length;j++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a.infoWindow[c])a.infoWindow[c].apply(this,[b])})})(h.infoWindow,i[j])}}var k=["animation_changed","clickable_changed","cursor_changed","draggable_changed","flat_changed","icon_changed","position_changed","shadow_changed","shape_changed","title_changed","visible_changed","zindex_changed"];var l=["dblclick","drag","dragend","dragstart","mousedown","mouseout","mouseover","mouseup"];for(var j=0;j<k.length;j++){(function(b,c){google.maps.event.addListener(b,c,function(){if(a[c])a[c].apply(this,[this])})})(h,k[j])}for(var j=0;j<k.length;j++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(!b.pixel){b.pixel=this.map.getProjection().fromLatLngToPoint(b.latLng)}if(a[c])a[c].apply(this,[b])})})(h,l[j])}google.maps.event.addListener(h,"click",function(){this.details=c;if(a.click){a.click.apply(this,[this])}if(h.infoWindow){b.hideInfoWindows();h.infoWindow.open(b.map,h)}});if(a.dragend||h.fences){google.maps.event.addListener(h,"dragend",function(){if(h.fences){b.checkMarkerGeofence(h,function(a,b){e(a,b)})}})}return h}else{throw"No latitude or longitude defined"}};this.addMarker=function(a){if(a.lat&&a.lng||a.position){var b=this.createMarker(a);b.setMap(this.map);this.markers.push(b);return b}else{throw"No latitude or longitude defined"}};this.addMarkers=function(a){for(var b=0,c;c=a[b];b++){this.addMarker(c)}return this.markers};this.hideInfoWindows=function(){for(var a=0,b;b=this.markers[a];a++){if(b.infoWindow){b.infoWindow.close()}}};this.removeMarkers=function(a){var a=a||this.markers;for(var b=0;b<this.markers.length;b++){if(this.markers[b]===a[b])this.markers[b].setMap(null)}var c=[];for(var b=0;b<this.markers.length;b++){if(this.markers[b].getMap()!=null)c.push(this.markers[b])}this.markers=c};this.drawOverlay=function(a){var c=new google.maps.OverlayView;c.setMap(e.map);var d=true;if(a.auto_show!=null)d=a.auto_show;c.onAdd=function(){var d=b.createElement("div");d.style.borderStyle="none";d.style.borderWidth="0px";d.style.position="absolute";d.style.zIndex=100;d.innerHTML=a.content;c.div=d;var e=this.getPanes();if(!a.layer){a.layer="overlayLayer"}var f=e[a.layer];f.appendChild(d);var g=["contextmenu","DOMMouseScroll","dblclick","mousedown"];for(var h=0;h<g.length;h++){(function(a,b){google.maps.event.addDomListener(a,b,function(a){if(navigator.userAgent.toLowerCase().indexOf("msie")!=-1&&document.all){a.cancelBubble=true;a.returnValue=false}else{a.stopPropagation()}})})(d,g[h])}google.maps.event.trigger(this,"ready")};c.draw=function(){var b=this.getProjection();var e=b.fromLatLngToDivPixel(new google.maps.LatLng(a.lat,a.lng));a.horizontalOffset=a.horizontalOffset||0;a.verticalOffset=a.verticalOffset||0;var f=c.div;var g=f.children[0];var h=g.clientHeight;var i=g.clientWidth;switch(a.verticalAlign){case"top":f.style.top=e.y-h+a.verticalOffset+"px";break;default:case"middle":f.style.top=e.y-h/2+a.verticalOffset+"px";break;case"bottom":f.style.top=e.y+a.verticalOffset+"px";break}switch(a.horizontalAlign){case"left":f.style.left=e.x-i+a.horizontalOffset+"px";break;default:case"center":f.style.left=e.x-i/2+a.horizontalOffset+"px";break;case"right":f.style.left=e.x+a.horizontalOffset+"px";break}f.style.display=d?"block":"none";if(!d){a.show.apply(this,[f])}};c.onRemove=function(){var b=c.div;if(a.remove){a.remove.apply(this,[b])}else{c.div.parentNode.removeChild(c.div);c.div=null}};e.overlays.push(c);return c};this.removeOverlay=function(a){a.setMap(null)};this.removeOverlays=function(){for(var a=0,b;b=e.overlays[a];a++){b.setMap(null)}e.overlays=[]};this.removePolylines=function(){for(var a=0,b;b=e.polylines[a];a++){b.setMap(null)}e.polylines=[]};this.drawPolyline=function(a){var b=[];var c=a.path;if(c.length){if(c[0][0]===undefined){b=c}else{for(var d=0,e;e=c[d];d++){b.push(new google.maps.LatLng(e[0],e[1]))}}}var f=new google.maps.Polyline({map:this.map,path:b,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight,geodesic:a.geodesic});var g=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var h=0;h<g.length;h++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(f,g[h])}this.polylines.push(f);return f};this.drawCircle=function(a){a=extend_object({map:this.map,center:new google.maps.LatLng(a.lat,a.lng)},a);delete a.lat;delete a.lng;var b=new google.maps.Circle(a);var c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var d=0;d<c.length;d++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(b,c[d])}this.polygons.push(b);return b};this.drawRectangle=function(a){a=extend_object({map:this.map},a);var b=new google.maps.LatLngBounds(new google.maps.LatLng(a.bounds[0][0],a.bounds[0][1]),new google.maps.LatLng(a.bounds[1][0],a.bounds[1][1]));a.bounds=b;var c=new google.maps.Rectangle(a);var d=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var e=0;e<d.length;e++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(c,d[e])}this.polygons.push(c);return c};this.drawPolygon=function(a){a=extend_object({map:this.map},a);if(a.paths.length>0){if(a.paths[0].length>0){a.paths=array_map(a.paths,arrayToLatLng)}}var b=new google.maps.Polygon(a);var c=["click","dblclick","mousedown","mousemove","mouseout","mouseover","mouseup","rightclick"];for(var d=0;d<c.length;d++){(function(b,c){google.maps.event.addListener(b,c,function(b){if(a[c])a[c].apply(this,[b])})})(b,c[d])}this.polygons.push(b);return b};this.removePolygon=this.removeOverlay;this.removePolygons=function(){for(var a=0,b;b=e.polygons[a];a++){b.setMap(null)}e.polygons=[]};this.getFromFusionTables=function(a){var b=a.events;delete a.events;var c=a;var d=new google.maps.FusionTablesLayer(c);for(var e in b){(function(a,c){google.maps.event.addListener(a,c,function(a){b[c].apply(this,[a])})})(d,e)}this.layers.push(d);return d};this.loadFromFusionTables=function(a){var b=this.getFromFusionTables(a);b.setMap(this.map);return b};this.getFromKML=function(a){var b=a.url;var c=a.events;delete a.url;delete a.events;var d=a;var e=new google.maps.KmlLayer(b,d);for(var f in c){(function(a,b){google.maps.event.addListener(a,b,function(a){c[b].apply(this,[a])})})(e,f)}this.layers.push(e);return e};this.loadFromKML=function(a){var b=this.getFromKML(a);b.setMap(this.map);return b};var A,B;this.getRoutes=function(a){switch(a.travelMode){case"bicycling":A=google.maps.TravelMode.BICYCLING;break;case"transit":A=google.maps.TravelMode.TRANSIT;break;case"driving":A=google.maps.TravelMode.DRIVING;break;default:A=google.maps.TravelMode.WALKING;break}if(a.unitSystem==="imperial"){B=google.maps.UnitSystem.IMPERIAL}else{B=google.maps.UnitSystem.METRIC}var b={avoidHighways:false,avoidTolls:false,optimizeWaypoints:false,waypoints:[]};var c=extend_object(b,a);c.origin=new google.maps.LatLng(a.origin[0],a.origin[1]);c.destination=new google.maps.LatLng(a.destination[0],a.destination[1]);c.travelMode=A;c.unitSystem=B;delete c.callback;var d=this;var e=new google.maps.DirectionsService;e.route(c,function(b,c){if(c===google.maps.DirectionsStatus.OK){for(var e in b.routes){if(b.routes.hasOwnProperty(e)){d.routes.push(b.routes[e])}}}if(a.callback){a.callback(d.routes)}})};this.removeRoutes=function(){this.routes=[]};this.getElevations=function(a){a=extend_object({locations:[],path:false,samples:256},a);if(a.locations.length>0){if(a.locations[0].length>0){a.locations=array_map(a.locations,arrayToLatLng)}}var b=a.callback;delete a.callback;var c=new google.maps.ElevationService;if(!a.path){delete a.path;delete a.samples;c.getElevationForLocations(a,function(a,c){if(b&&typeof b==="function"){b(a,c)}})}else{var d={path:a.locations,samples:a.samples};c.getElevationAlongPath(d,function(a,c){if(b&&typeof b==="function"){b(a,c)}})}};this.cleanRoute=this.removePolylines;this.drawRoute=function(a){var b=this;this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(c){if(c.length>0){b.drawPolyline({path:c[c.length-1].overview_path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});if(a.callback){a.callback(c[c.length-1])}}}})};this.travelRoute=function(a){if(a.origin&&a.destination){this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(b){if(b.length>0&&a.start){a.start(b[b.length-1])}if(b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0){var d=c.legs[0].steps;for(var e=0,f;f=d[e];e++){f.step_number=e;a.step(f,c.legs[0].steps.length-1)}}}if(b.length>0&&a.end){a.end(b[b.length-1])}}})}else if(a.route){if(a.route.legs.length>0){var b=a.route.legs[0].steps;for(var c=0,d;d=b[c];c++){d.step_number=c;a.step(d)}}}};this.drawSteppedRoute=function(a){if(a.origin&&a.destination){this.getRoutes({origin:a.origin,destination:a.destination,travelMode:a.travelMode,waypoints:a.waypoints,callback:function(b){if(b.length>0&&a.start){a.start(b[b.length-1])}if(b.length>0&&a.step){var c=b[b.length-1];if(c.legs.length>0){var d=c.legs[0].steps;for(var f=0,g;g=d[f];f++){g.step_number=f;e.drawPolyline({path:g.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});a.step(g,c.legs[0].steps.length-1)}}}if(b.length>0&&a.end){a.end(b[b.length-1])}}})}else if(a.route){if(a.route.legs.length>0){var b=a.route.legs[0].steps;for(var c=0,d;d=b[c];c++){d.step_number=c;e.drawPolyline({path:d.path,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight});a.step(d)}}}};this.checkGeofence=function(a,b,c){return c.containsLatLng(new google.maps.LatLng(a,b))};this.checkMarkerGeofence=function(a,b){if(a.fences){for(var c=0,d;d=a.fences[c];c++){var f=a.getPosition();if(!e.checkGeofence(f.lat(),f.lng(),d)){b(a,d)}}}};this.addLayer=function(a,b){b=b||{};var c;switch(a){case"weather":this.singleLayers.weather=c=new google.maps.weather.WeatherLayer;break;case"clouds":this.singleLayers.clouds=c=new google.maps.weather.CloudLayer;break;case"traffic":this.singleLayers.traffic=c=new google.maps.TrafficLayer;break;case"transit":this.singleLayers.transit=c=new google.maps.TransitLayer;break;case"bicycling":this.singleLayers.bicycling=c=new google.maps.BicyclingLayer;break;case"panoramio":this.singleLayers.panoramio=c=new google.maps.panoramio.PanoramioLayer;c.setTag(b.filter);delete b.filter;if(b.click){google.maps.event.addListener(c,"click",function(a){b.click(a);delete b.click})}break;case"places":this.singleLayers.places=c=new google.maps.places.PlacesService(this.map);if(b.search||b.nearbySearch){var d={bounds:b.bounds||null,keyword:b.keyword||null,location:b.location||null,name:b.name||null,radius:b.radius||null,rankBy:b.rankBy||null,types:b.types||null};if(b.search){c.search(d,b.search)}if(b.nearbySearch){c.nearbySearch(d,b.nearbySearch)}}if(b.textSearch){var e={bounds:b.bounds||null,location:b.location||null,query:b.query||null,radius:b.radius||null};c.textSearch(e,b.textSearch)}break}if(c!==undefined){if(typeof c.setOptions=="function"){c.setOptions(b)}if(typeof c.setMap=="function"){c.setMap(this.map)}return c}};this.removeLayer=function(a){if(this.singleLayers[a]!==undefined){this.singleLayers[a].setMap(null);delete this.singleLayers[a]}};this.toImage=function(a){var a=a||{};var b={};b["size"]=a["size"]||[this.div.clientWidth,this.div.clientHeight];b["lat"]=this.getCenter().lat();b["lng"]=this.getCenter().lng();if(this.markers.length>0){b["markers"]=[];for(var c=0;c<this.markers.length;c++){b["markers"].push({lat:this.markers[c].getPosition().lat(),lng:this.markers[c].getPosition().lng()})}}if(this.polylines.length>0){var e=this.polylines[0];b["polyline"]={};b["polyline"]["path"]=google.maps.geometry.encoding.encodePath(e.getPath());b["polyline"]["strokeColor"]=e.strokeColor;b["polyline"]["strokeOpacity"]=e.strokeOpacity;b["polyline"]["strokeWeight"]=e.strokeWeight}return d.staticMapURL(b)}};d.Route=function(a){this.map=a.map;this.route=a.route;this.step_count=0;this.steps=this.route.legs[0].steps;this.steps_length=this.steps.length;this.polyline=this.map.drawPolyline({path:new google.maps.MVCArray,strokeColor:a.strokeColor,strokeOpacity:a.strokeOpacity,strokeWeight:a.strokeWeight}).getPath();this.back=function(){if(this.step_count>0){this.step_count--;var a=this.route.legs[0].steps[this.step_count].path;for(var b in a){if(a.hasOwnProperty(b)){this.polyline.pop()}}}};this.forward=function(){if(this.step_count<this.steps_length){var a=this.route.legs[0].steps[this.step_count].path;for(var b in a){if(a.hasOwnProperty(b)){this.polyline.push(a[b])}}this.step_count++}}};d.geolocate=function(a){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(function(b){a.success(b);if(a.always){a.always()}},function(b){a.error(b);if(a.always){a.always()}},a.options)}else{a.not_supported();if(a.always){a.always()}}};d.geocode=function(a){this.geocoder=new google.maps.Geocoder;var b=a.callback;if(a.lat&&a.lng){a.latLng=new google.maps.LatLng(a.lat,a.lng)}delete a.lat;delete a.lng;delete a.callback;this.geocoder.geocode(a,function(a,c){b(a,c)})};d.staticMapURL=function(a){function n(a,b){if(a[0]==="#"){a=a.replace("#","0x");if(b){b=parseFloat(b);b=Math.min(1,Math.max(b,0));if(b===0){return"0x00000000"}b=(b*255).toString(16);if(b.length===1){b+=b}a=a.slice(0,8)+b}}return a}var b=[];var c;var d="http://maps.googleapis.com/maps/api/staticmap";if(a.url){d=a.url;delete a.url}d+="?";var e=a.markers;delete a.markers;if(!e&&a.marker){e=[a.marker];delete a.marker}var f=a.polyline;delete a.polyline;if(a.center){b.push("center="+a.center);delete a.center}else if(a.address){b.push("center="+a.address);delete a.address}else if(a.lat){b.push(["center=",a.lat,",",a.lng].join(""));delete a.lat;delete a.lng}else if(a.visible){var g=encodeURI(a.visible.join("|"));b.push("visible="+g)}var h=a.size;if(h){if(h.join){h=h.join("x")}delete a.size}else{h="630x300"}b.push("size="+h);if(!a.zoom){a.zoom=15}var i=a.hasOwnProperty("sensor")?!!a.sensor:true;delete a.sensor;b.push("sensor="+i);for(var j in a){if(a.hasOwnProperty(j)){b.push(j+"="+a[j])}}if(e){var k,l;for(var m=0;c=e[m];m++){k=[];if(c.size&&c.size!=="normal"){k.push("size:"+c.size)}else if(c.icon){k.push("icon:"+encodeURI(c.icon))}if(c.color){k.push("color:"+c.color.replace("#","0x"))}if(c.label){k.push("label:"+c.label[0].toUpperCase())}l=c.address?c.address:c.lat+","+c.lng;if(k.length||m===0){k.push(l);k=k.join("|");b.push("markers="+encodeURI(k))}else{k=b.pop()+encodeURI("|"+l);b.push(k)}}}if(f){c=f;f=[];if(c.strokeWeight){f.push("weight:"+parseInt(c.strokeWeight,10))}if(c.strokeColor){var o=n(c.strokeColor,c.strokeOpacity);f.push("color:"+o)}if(c.fillColor){var p=n(c.fillColor,c.fillOpacity);f.push("fillcolor:"+p)}var q=c.path;if(q.join){for(var r=0,s;s=q[r];r++){f.push(s.join(","))}}else{f.push("enc:"+q)}f=f.join("|");b.push("path="+encodeURI(f))}b=b.join("&");return d+b};if(!google.maps.Polygon.prototype.getBounds){google.maps.Polygon.prototype.getBounds=function(a){var b=new google.maps.LatLngBounds;var c=this.getPaths();var d;for(var e=0;e<c.getLength();e++){d=c.getAt(e);for(var f=0;f<d.getLength();f++){b.extend(d.getAt(f))}}return b}}google.maps.Polygon.prototype.containsLatLng=function(a){var b=this.getBounds();if(b!==null&&!b.contains(a)){return false}var c=false;var d=this.getPaths().getLength();for(var e=0;e<d;e++){var f=this.getPaths().getAt(e);var g=f.getLength();var h=g-1;for(var i=0;i<g;i++){var j=f.getAt(i);var k=f.getAt(h);if(j.lng()<a.lng()&&k.lng()>=a.lng()||k.lng()<a.lng()&&j.lng()>=a.lng()){if(j.lat()+(a.lng()-j.lng())/(k.lng()-j.lng())*(k.lat()-j.lat())<a.lat()){c=!c}}h=i}}return c};google.maps.LatLngBounds.prototype.containsLatLng=function(a){return this.contains(a)};google.maps.Marker.prototype.setFences=function(a){this.fences=a};google.maps.Marker.prototype.addFence=function(a){this.fences.push(a)};return d}(this);var arrayToLatLng=function(a){return new google.maps.LatLng(a[0],a[1])};var extend_object=function(a,b){if(a===b)return a;for(var c in b){a[c]=b[c]}return a};var array_map=function(a,b){if(Array.prototype.map&&a.map===Array.prototype.map){return a.map(b)}else{var c=[];var d=a.length;for(var e=0;e<d;e++){c.push(b(a[e]))}return c}}}GMaps.prototype.addStyle=function(a){var b=new google.maps.StyledMapType(a.styles,a.styledMapName);this.map.mapTypes.set(a.mapTypeId,b)};GMaps.prototype.setStyle=function(a){this.map.setMapTypeId(a)};
